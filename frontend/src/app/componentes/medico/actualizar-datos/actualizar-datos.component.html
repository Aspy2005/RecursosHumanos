<div class="main-container">
  <nav>
    <a routerLink="/menu-medico">Clinica</a>
    <div class="nav-item">Actualizar Datos</div>
  </nav>

  <main class="contenido">
    <div class="container" *ngIf="!loading; else loadingTemplate">
      <h2>Actualizar Datos del Médico</h2>

      <form [formGroup]="medicoForm" (ngSubmit)="onSubmit()">
        <div class="form-grid">
          <!-- Campos del formulario -->
          <div class="form-group">
            <label>Nombre</label>
            <input type="text" value="{{ medico?.nombreMedico }}" [disabled]="true" />
          </div>

          <div class="form-group">
            <label>Apellido</label>
            <input type="text" value="{{ medico?.apellidoMedico }}" [disabled]="true" />
          </div>

          <div class="form-group">
            <label>Edad</label>
            <input type="text" value="{{ medico?.edadMedico }}" [disabled]="true" />
          </div>

          <div class="form-group">
            <label>Turno</label>
            <input type="text" value="{{ medico?.turnoMedico }}" [disabled]="true" />
          </div>

          <div class="form-group">
            <label>Cargo</label>
            <input type="text" value="{{ medico?.cargoMedico }}" [disabled]="true" />
          </div>

          <div class="form-group">
            <label>Salario</label>
            <input type="text" value="{{ medico?.salarioMedico }}" [disabled]="true" />
          </div>
          <div class="form-group">
            <label>Fecha de Ingreso</label>
            <input type="text" value="{{ medico?.fechaIngreso }}" [disabled]="true" />
          </div>

          <div class="form-group">
            <label>Rol</label>
            <input type="text" value="{{ medico?.rolMedico }}" [disabled]="true" />
          </div>

          <div class="form-group">
            <label>Teléfono</label>
            <input type="text" formControlName="telefonoMedico" [disabled]="true" />
            <div class="error-msg" *ngIf="medicoForm.get('telefonoMedico')?.invalid && medicoForm.get('telefonoMedico')?.touched">
              <small *ngIf="medicoForm.get('telefonoMedico')?.errors?.['required']">El teléfono es obligatorio.</small>
              <small *ngIf="medicoForm.get('telefonoMedico')?.errors?.['pattern']">El teléfono debe tener exactamente 10 dígitos numéricos.</small>
            </div>
          </div>
          
          <div class="form-group">
            <label>Dirección</label>
            <input type="text" formControlName="direccionMedico" [disabled]="true" />
            <div class="error-msg" *ngIf="medicoForm.get('direccionMedico')?.invalid && medicoForm.get('direccionMedico')?.touched">
              <small *ngIf="medicoForm.get('direccionMedico')?.errors?.['required']">La dirección es obligatoria.</small>
            </div>
          </div>
          
          <div class="form-group">
            <label>Correo Electrónico</label>
            <input type="email" formControlName="correoMedico" [disabled]="true" />
            <div class="error-msg" *ngIf="medicoForm.get('correoMedico')?.invalid && medicoForm.get('correoMedico')?.touched">
              <small *ngIf="medicoForm.get('correoMedico')?.errors?.['required']">El correo es obligatorio.</small>
              <small *ngIf="medicoForm.get('correoMedico')?.errors?.['email']">El formato del correo no es válido.</small>
            </div>
          </div>
          
          <div class="form-group">
            <label>Residencia</label>
            <input type="text" formControlName="residenciaMedico" [disabled]="true" />
            <div class="error-msg" *ngIf="medicoForm.get('residenciaMedico')?.invalid && medicoForm.get('residenciaMedico')?.touched">
              <small *ngIf="medicoForm.get('residenciaMedico')?.errors?.['required']">La residencia es obligatoria.</small>
            </div>
          </div>
            

          
          <div *ngIf="errorMsg" class="error-msg">{{ errorMsg }}</div>

          <button type="submit" [disabled]="medicoForm.invalid">Actualizar</button>
        </div>
      </form>
    </div>

    <ng-template #loadingTemplate>
      <div class="loading">Cargando datos...</div>
    </ng-template>
  </main>

  <footer class="footer">
    ClínicaApp - Sistema de Gestión de recursos humanos
  </footer>
</div>
